<!DOCTYPE html>

<html>
  <head>
    <title>WebSocket Demo</title>
    <meta charset="utf-8" />
    <script type="text/javascript" src="utils.js"></script>
  </head>
  <body>
  <!-- <body onload="document.getElementById('hostname').innerHTML='something'"> -->
    <!-- <script type="text/javascript">
      const os = require('os') 
      // document.addEventListener("load", ) 
      document.getElementById("hostname").innerHTML = os.hostname(); 
    </script> -->
    <h1>hi from <a id="hostname"><iframe id="testFrame" src="/hostname"></iframe></a></h1>
    <a href="http://localhost:1313/chat">Link to chat</a>
    <a href="http://localhost:1313/test">Link to test</a>
    <p>
      Enter a username:
      <input id="name" type="text" maxlength="12" placeholder="Your name" />
      <input type="button" name="login" value="Log in" onclick="connect()" />
    </p>
    <table border="0" width="100%">
      <tr height="100%">
        <td width="120px" align="top" border="1" height="100%">
          <div
            id="userlistbox"
            style="border: 1px solid black; width: 100%; height: 100%"
          ></div>
        </td>
        <td>
          <iframe width="100%" height="400px" id="chatbox"></iframe>
          <tr>
            <td>&nbsp;</td>
            <td>
              <p>
                Chat:
                <input
                  id="text"
                  type="text"
                  name="text"
                  size="80"
                  maxlength="256"
                  placeholder="Chat with us!"
                  autocomplete="off"
                  onkeyup="handleKey(event)"
                  disabled
                />
                <input
                  type="button"
                  id="send"
                  name="send"
                  value="Send"
                  onclick="send()"
                  disabled
                />
              </p>
            </td>
          </tr>
        </td>
      </tr>
    </table>
  </body>
</html>
