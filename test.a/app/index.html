<!DOCTYPE html>

<html>
    <head>
        <title>WebSocket Demo</title>
        <meta charset="utf-8" />
        <script>
            function connect() {
                if ("WebSocket" in window) {
                  alert("WebSocket is supported by your Browser!");
        
                  // Let us open a web socket - this will connect to the pywebsocket3 standalone websocket server
                  var ws = new WebSocket("ws://localhost:1313/test");
        
                  ws.onopen = function () {
                    // Web Socket is connected, send data using send()
                    ws.send("Message to send");
                    alert("Message is sent...");
                  };
        
                  ws.onmessage = function (evt) {
                    var received_msg = evt.data;
                    alert("Message is received...\t\"" + received_msg + "\"");
                  };
        
                  ws.onclose = function () {
                    // websocket is closed.
                    alert("Connection is closed...");
                  };
                } else {
                  // The browser doesn't support WebSocket
                  alert("WebSocket NOT supported by your Browser!");
                }
            }
        </script>
    </head>
    <body>
        <h1>hi from <a id="hostname"></a></h1>
        <a href="http://localhost:1313/chat">Link to chat</a>
        <a href="javascript:connect()">Link to test</a>
    </body>
</html>
